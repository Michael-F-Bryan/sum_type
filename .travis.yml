language: rust
cache: cargo

matrix:
  include:
    # Required for the `compile_fail` attribute on doc-comment examples
    - rust: 1.22.0

    - rust: stable

    - env: FEATURES="--all-features"
      rust: nightly

script:
  - cargo build --verbose $FEATURES
  - cargo test --verbose $FEATURES
